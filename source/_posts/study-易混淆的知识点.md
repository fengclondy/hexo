---
layout: post
title: 易混淆的概念
date: 2018-01-24 07:05:21
tags: study
categories: study
---

### Java中常见类，方法和变量

（1）数组中没有length()方法，它只有length属性。字符串中有length()方法，集合中没有length()方法，用size()方法获取集合中元素的数量。
（2）字符串变量（str1, str2...）相加，先开辟空间，再相加。字符串常量(如"ab", "122"...)相加，首先在字符串常量池中找，判断有没有这个常量值， 则需要创建；有的话，则直接返回。字符串相加，推荐使用StringBuffer。
（3）编码与解码格式一样（默认为GBK格式，一个中文对应两个字节。**utf-8编码，一个汉字对应三个字节**）。
（4）静态代码块 ，构造代码块，构造方法的优先级:静态代码块>构造代码块>构造方法...
（5）StringBuffer和数组的区别：都属于容器类型的变量，数组只能存储一种类型的数据，并且长度是固定的，StringBuffer可以存储任意类型的元素。
（6）从键盘上输入字符：`Scanner scan = new Scanner(System.in); String str = scan.nextLine();`

#### run()和start()的区别

run()和start()方法都是Thread类的方法，但是Thread.run()是调用方法执行，而 Thread.start()是启动一个新的线程；


#### 堆和栈的存储
类中的成员变量，存放在堆区。方法中的局部变量，存放在栈区。

- 堆区：只存放类对象，线程共享；
- 方法区：又叫静态存储区，存放class文件和静态数据，线程共享;
- 栈区：存放方法局部变量，基本类型变量区、执行环境上下文、操作指令区，线程不共享;

#### JVM内存模型
jvm里面有两个存储区，一个是暂存区（是一个堆栈，以下称为堆栈），另一个是变量区。
例子：
```
int i=0;
i=i++;
println(i);  //为0 
```
>JVM把 i值（其值是0）拷贝到临时变量区。 步骤2　i值加1，这时候 i 的值是1。 步骤3　返回临时变量区的值，注意这个值是0，没修改过。 步骤4　返回值赋值给i，此时 i 值被重置成0。 c/c++中没有另外设置一个临时变量或是临时空间来保存i，所有操作都是在一个内存空间中完成的，所以在c/c++中是1。



